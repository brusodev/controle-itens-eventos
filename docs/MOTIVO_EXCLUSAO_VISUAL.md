# ğŸ¬ Guia Visual - Motivo de ExclusÃ£o de O.S.

## Fluxo da Interface

### ANTES (Antigo)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LISTA DE ORDENS DE SERVIÃ‡O                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ O.S. #123 - Evento Corporativo                    [Deletar] â”‚
â”‚ O.S. #124 - Coffee Break                          [Deletar] â”‚
â”‚ O.S. #125 - ReuniÃ£o                               [Deletar] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Admin clica [Deletar]
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸  ATENÃ‡ÃƒO!                                                 â”‚
â”‚                                                              â”‚
â”‚ Deseja realmente EXCLUIR a O.S. #123?                       â”‚
â”‚ - NÃƒO pode ser desfeita                                     â”‚
â”‚ - ReverterÃ¡ estoque                                         â”‚
â”‚ - RemoverÃ¡ todos os dados                                   â”‚
â”‚                                                              â”‚
â”‚ [OK] [CANCELAR]                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Admin clica OK
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸš¨ CONFIRMAÃ‡ÃƒO FINAL                                         â”‚
â”‚                                                              â”‚
â”‚ Tem ABSOLUTA CERTEZA?                                       â”‚
â”‚                                                              â”‚
â”‚ [OK] [CANCELAR]                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Admin clica OK
    â†“
âœ… O.S. deletada!
```

---

### DEPOIS (Novo)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LISTA DE ORDENS DE SERVIÃ‡O                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ O.S. #123 - Evento Corporativo                    [Deletar] â”‚
â”‚ O.S. #124 - Coffee Break                          [Deletar] â”‚
â”‚ O.S. #125 - ReuniÃ£o                               [Deletar] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Admin clica [Deletar]
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸  ATENÃ‡ÃƒO!                                                 â”‚
â”‚                                                              â”‚
â”‚ Deseja realmente EXCLUIR a O.S. #123?                       â”‚
â”‚ - NÃƒO pode ser desfeita                                     â”‚
â”‚ - ReverterÃ¡ estoque                                         â”‚
â”‚ - RemoverÃ¡ todos os dados                                   â”‚
â”‚                                                              â”‚
â”‚ [OK] [CANCELAR]                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Admin clica OK
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸš¨ CONFIRMAÃ‡ÃƒO FINAL                                         â”‚
â”‚                                                              â”‚
â”‚ Tem ABSOLUTA CERTEZA?                                       â”‚
â”‚                                                              â”‚
â”‚ [OK] [CANCELAR]                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Admin clica OK
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ MOTIVO DA EXCLUSÃƒO                         âœ¨ NOVO        â”‚
â”‚                                                              â”‚
â”‚ Digite o motivo pelo qual estÃ¡ excluindo                    â”‚
â”‚ a O.S. #123:                                                â”‚
â”‚                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ [Cancelamento por solicitaÃ§Ã£o do cliente          ] â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚ (Este motivo serÃ¡ registrado na auditoria)                  â”‚
â”‚                                                              â”‚
â”‚ [OK] [CANCELAR]                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Admin digita motivo e clica OK
    â†“
âœ… O.S. #123 deletada com sucesso!
   Motivo: Cancelamento por solicitaÃ§Ã£o do cliente
   Estoque foi revertido automaticamente.
```

---

## Registros na Auditoria

### Antes (sem motivo detalhado)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DETALHES DA AUDITORIA                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ InformaÃ§Ãµes Gerais                                              â”‚
â”‚ Data/Hora: 11/11/2025, 15:30:20                                â”‚
â”‚ UsuÃ¡rio: Administrator (bruno.vargas@email.com)                â”‚
â”‚ AÃ§Ã£o: DELETE                                                    â”‚
â”‚ MÃ³dulo: OS                                                      â”‚
â”‚ DescriÃ§Ã£o: Deletou Ordem de ServiÃ§o #123 - Evento Corp.        â”‚
â”‚                                                                 â”‚
â”‚ Dados Antes: {...dados completos...}                           â”‚
â”‚ Dados Depois: (null - deletado)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Depois (com motivo)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DETALHES DA AUDITORIA                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ InformaÃ§Ãµes Gerais                                              â”‚
â”‚ Data/Hora: 11/11/2025, 16:05:28                                â”‚
â”‚ UsuÃ¡rio: Administrator (bruno.vargas@email.com)                â”‚
â”‚ AÃ§Ã£o: DELETE                                                    â”‚
â”‚ MÃ³dulo: OS                                                      â”‚
â”‚ DescriÃ§Ã£o: Deletou Ordem de ServiÃ§o #123 - Evento Corp.        â”‚
â”‚            âœ… Motivo: Cancelamento por solicitaÃ§Ã£o do cliente   â”‚
â”‚                                                                 â”‚
â”‚ Dados Antes: {...dados completos...}                           â”‚
â”‚ Dados Depois: (null - deletado)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Banco de Dados

### Estrutura da Tabela (novo)

```sql
CREATE TABLE ordens_servico (
    id INTEGER PRIMARY KEY,
    numero_os VARCHAR(50),
    evento VARCHAR(200),
    -- ... outros campos ...
    motivo_exclusao TEXT,           âœ¨ NOVO
    data_exclusao DATETIME,         âœ¨ NOVO
    -- ... outros campos ...
);
```

### Exemplo de Dados

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ID â”‚ NÃºmero â”‚ Evento         â”‚ Motivo           â”‚Data â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚123 â”‚ OS-001 â”‚ Evento Corp.   â”‚ NULL             â”‚NULL â”‚ â† NÃ£o deletada
â”‚124 â”‚ OS-002 â”‚ Coffee Break   â”‚ "Evento cancelad â”‚ ... â”‚ â† Deletada
â”‚    â”‚        â”‚                â”‚ o pela detentora"â”‚     â”‚
â”‚125 â”‚ OS-003 â”‚ ReuniÃ£o        â”‚ "Erro ao criar - â”‚ ... â”‚ â† Deletada
â”‚    â”‚        â”‚                â”‚ duplicaÃ§Ã£o"      â”‚     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Casos de Uso

### Caso 1: Cancelamento por SolicitaÃ§Ã£o

```
ADMIN: "Preciso deletar a O.S. #150 porque o cliente cancelou o evento"

[Clica em Deletar]
[Confirma 2x]
[Digite o motivo:]
"Cancelamento por solicitaÃ§Ã£o do cliente"
[OK]

âœ… RESULTADO:
- O.S. deletada
- Estoque revertido
- Auditoria registra:
  "Cancelamento por solicitaÃ§Ã£o do cliente"
- Data/hora registrada em SÃ£o Paulo
```

### Caso 2: Erro ao Criar

```
ADMIN: "Criei a O.S. duplicada por engano"

[Clica em Deletar]
[Confirma 2x]
[Digite o motivo:]
"DuplicaÃ§Ã£o acidental - erro ao criar"
[OK]

âœ… RESULTADO:
- O.S. deletada
- Auditoria deixa rastro do motivo
- Fica claro que foi erro, nÃ£o cancelamento
```

### Caso 3: Dados Inconsistentes

```
ADMIN: "Preciso deletar porque os dados estÃ£o inconsistentes"

[Clica em Deletar]
[Confirma 2x]
[Digite o motivo:]
"Dados inconsistentes - cliente informou data errada"
[OK]

âœ… RESULTADO:
- Motivo detalhado fica registrado
- Facilita auditorias futuras
- Admin consegue se justificar
```

---

## RelatÃ³rios PossÃ­veis

Com essa implementaÃ§Ã£o, vocÃª agora pode gerar relatÃ³rios como:

### ğŸ“Š "RelatÃ³rio de ExclusÃµes"

```
RELATÃ“RIO DE EXCLUSÃ•ES DE O.S.
PerÃ­odo: 01/11/2025 a 30/11/2025

Cancelamentos por cliente:        8 O.S.
Erros ao criar:                   2 O.S.
Dados inconsistentes:             3 O.S.
Eventos adiados:                  5 O.S.
Outros motivos:                   2 O.S.
                                â”€â”€â”€â”€â”€
TOTAL:                           20 O.S.

Motivos Mais Comuns:
1. Cancelamento por solicitaÃ§Ã£o   45%
2. Evento adiado                  25%
3. Erro ao criar                  10%
4. Dados inconsistentes           15%
5. Outros                          5%
```

---

## âœ… BenefÃ­cios

| BenefÃ­cio | DescriÃ§Ã£o |
|-----------|-----------|
| ğŸ” **Rastreabilidade** | Saber por quÃª cada O.S. foi deletada |
| ğŸ“‹ **Auditoria** | Registro completo de quem, quando e por quÃª |
| ğŸ›¡ï¸ **SeguranÃ§a** | Responsabilidade clara de cada deleÃ§Ã£o |
| ğŸ“Š **AnÃ¡lise** | Gerar relatÃ³rios de padrÃµes de cancelamento |
| â° **DocumentaÃ§Ã£o** | Deixar histÃ³rico para futuros reviews |
| ğŸ¤ **Accountability** | Admin nÃ£o pode simplesmente deletar sem justificar |

---

## ğŸ¯ PrÃ³ximos Passos

1. âœ… Testar localmente com a migraÃ§Ã£o
2. âœ… Deletar uma O.S. de teste
3. âœ… Verificar se motivo Ã© obrigatÃ³rio
4. âœ… Verificar se auditoria mostra o motivo
5. âœ… ApÃ³s testes, fazer commit se tudo ok
6. âœ… Deploy em produÃ§Ã£o
7. âœ… ComeÃ§ar a usar normalmente
